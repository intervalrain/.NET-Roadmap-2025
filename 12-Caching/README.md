# Chapter 12: Caching 總結

在本章中，我們深入探討了提升應用程式效能和擴展性的關鍵技術——快取。我們學習了兩種主要的快取策略及其在 .NET 中的實現方式。

## 1. 記憶體內快取 (In-Memory Caching)
我們首先學習了最簡單直接的快取方式，即使用 .NET 內建的 `IMemoryCache`。
- **核心概念**：將資料直接儲存在應用程式的處理程序記憶體中，以獲得最快的讀取速度。
- **優點與限制**：我們了解到它雖然速度極快、設定簡單，但其快取內容無法在多個應用程式實例之間共享，且會隨著應用程式重啟而遺失，因此主要適用於單體應用或特定的邊緣場景。
- **使用方式**：我們掌握了透過依賴注入取得 `IMemoryCache` 實例，並使用「先取快取，若無則取資料來源，再存入快取」(Cache-Aside Pattern) 的標準模式來進行操作。我們也學習了「絕對過期」和「滑動過期」兩種主要的快取失效策略。

## 2. 分散式快取 (Distributed Caching) 與 Redis
接著，我們解決了記憶體內快取在分散式環境下的限制，學習了分散式快取。
- **核心理念**：將快取儲存在一個所有應用程式實例都能共享的獨立外部服務中。
- **Redis**：我們介紹了 Redis 作為當今最受歡迎的分散式快取解決方案。我們了解了其基於記憶體的高效能、豐富的資料結構以及持久化能力。
- **.NET 抽象 (`IDistributedCache`)**：我們學習了 .NET 提供的 `IDistributedCache` 介面，它為各種分散式快取服務提供了一套統一的 API，讓我們的應用程式可以與具體的實現（如 Redis, SQL Server）解耦合。
- **整合實踐**：我們透過 `Microsoft.Extensions.Caching.StackExchangeRedis` 套件，學習瞭如何將 Redis 無縫整合到 .NET 應用中，並處理物件的序列化與反序列化。

總結來說，本章為你提供了全面的 .NET 快取知識。你學會了根據應用程式的架構（單體 vs. 分散式）和需求，選擇合適的快取策略。掌握 `IMemoryCache` 和以 Redis 為代表的 `IDistributedCache`，將使你能夠顯著提升應用程式的效能、降低延遲，並建構出能夠應對高負載的彈性系統。